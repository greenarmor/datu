# DATU tuned stellar-core configuration derived from the quickstart local profile.
# Placeholder tokens (e.g. __PGPASS__) are substituted by the container entrypoint
# so we retain compatibility with upstream automation.

HTTP_PORT=11626
PUBLIC_HTTP_PORT=true
LOG_FILE_PATH="/var/log/stellar-core/stellar-core-{datetime:%Y-%m-%d_%H-%M-%S}.log"
MANUAL_CLOSE=false
ARTIFICIALLY_ACCELERATE_TIME_FOR_TESTING=true

NETWORK_PASSPHRASE="__NETWORK__"
NODE_SEED="SB6GCE2G2PNS4B5H6FWO5OKI6X32FLAQUIHX6SH2KTKNJLKS4SEINSG2 datu-tier1-east"
NODE_IS_VALIDATOR=true

DATABASE="postgresql://dbname=core host=localhost user=stellar password=__PGPASS__"

COMMANDS=["ll?level=debug"]

FAILURE_SAFETY=0
UNSAFE_QUORUM=true

DESIRED_BASE_FEE=100
DESIRED_BASE_RESERVE=10
MAX_TX_SET_SIZE=500

[[HOME_DOMAINS]]
HOME_DOMAIN="validators.datu.foundation"
QUALITY="HIGH"

[[HOME_DOMAINS]]
HOME_DOMAIN="validators.datu.foundation.backup"
QUALITY="MEDIUM"

[[VALIDATORS]]
NAME="datu-tier1-east"
HOME_DOMAIN="validators.datu.foundation"
QUALITY="HIGH"
PUBLIC_KEY="GDPYUV3STVBCD4LPIRI4WWKJ56BSHHDFMDLUEIV27OMBNC5NZMYMBAXR"
ADDRESS="core-east.datu.foundation:11625"
HISTORY="curl -sf https://history.datu.foundation/core-east/{0} -o {1}"

[[VALIDATORS]]
NAME="datu-tier1-west"
HOME_DOMAIN="validators.datu.foundation"
QUALITY="HIGH"
PUBLIC_KEY="GBJN2ZJG2CMGOBIYKMRJRJTXHA3XYPJ3S4URATUNNDZILSSXBRQ2QFAG"
ADDRESS="core-west.datu.foundation:11625"
HISTORY="curl -sf https://history.datu.foundation/core-west/{0} -o {1}"

[[VALIDATORS]]
NAME="datu-tier2"
HOME_DOMAIN="validators.datu.foundation.backup"
QUALITY="MEDIUM"
PUBLIC_KEY="GBET6RIVFGEE5XCYX6BF7CYPT4LNEB4YQZVRNMHZO4DVQS7M5OLCOUW3"
ADDRESS="core-tier2.datu.foundation:11625"
HISTORY="curl -sf https://history.datu.foundation/core-tier2/{0} -o {1}"

[QUORUM_SET]
THRESHOLD_PERCENT=67
VALIDATORS=[
  "$self",
  "datu-tier1-east",
  "datu-tier1-west"
]

[QUORUM_SET.1]
THRESHOLD_PERCENT=67
VALIDATORS=[
  "datu-tier1-east",
  "datu-tier1-west",
  "datu-tier2"
]

[HISTORY.datu-east]
get="curl -sf https://history.datu.foundation/core-east/{0} -o {1}"
put="aws s3 cp {0} s3://history.datu.foundation/core-east/{1}"
mkdir="aws s3api put-object --bucket history.datu.foundation --key core-east/{0}"

[HISTORY.local]
get="cp /tmp/stellar-core/history/local/{0} {1}"
put="cp {0} /tmp/stellar-core/history/local/{1}"
mkdir="mkdir -p /tmp/stellar-core/history/local/{0}"
